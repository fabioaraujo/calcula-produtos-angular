<div>
  <h2>Produtos</h2>
  <table id="produtos" border="1">
    <thead>
      <tr>
        <th>ID</th>
        <th>nome</th>
        <th>horas trabalhadas</th>
        <th>custo total</th>
        <th>Editar</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <br><br>
  <div>
  <form (ngSubmit)="onSubmit()" >
    <label>Cadastro de produtos</label><br>
    <label for="idProduto">Id Produto</label>
    <div><input type="text" name="id" [(ngModel)]="id" id="idProduto"></div>
    <label for="nomeProduto">Nome</label>
    <div><input type="text" name="nome" [(ngModel)]="nome" id="nomeProduto"></div>
    <label for="horasTrabalhadasProduto">Horas trabalhadas</label>
    <div><input type="text" name="horasTrabalhadas" [(ngModel)]="horasTrabalhadas" id="horasTrabalhadasProduto"></div>
    <label>Custo</label>
    <div>{{custo}}</div>
    <div>
      Itens selecionados
      <table>
        <tr>
          <th>Item</th>
          <th>Custo</th>
          <th>Quantidade</th>
        </tr>
        <tr *ngFor="let item of itensSelecionados;let index = index;trackBy:trackByIndex;">
          <td>{{item.nome}}</td>
          <td>{{item.custo}}</td>
          <td><input type="number" name=item{{index}} [(ngModel)]="itensSelecionados[index].quantidade" /></td>
        </tr>
      </table>
    </div>

    <label for="itensCombo">Itens</label>
       <div>
           <select id="itensCombo" name="itensCombo" size="10" [(ngModel)]="itemSelecionado">
             <option *ngFor="let item of itens | async" [ngValue]="item">{{item.nome}}</option>
           </select>
       </div>
       <input type="button" value="Seleciona Item" (click)="selecionaItem(itemSelecionado)" />
    <div>
      <input type="button" value="Cria Produto" type="submit">
      <input type="button" value="Limpar Produto" type="reset">
    </div>
  </form>
  </div>
</div>
